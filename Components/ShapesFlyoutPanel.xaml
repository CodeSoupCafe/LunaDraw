<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:components="clr-namespace:LunaDraw.Components"
             xmlns:viewModels="clr-namespace:LunaDraw.Logic.ViewModels"
             x:Class="LunaDraw.Components.ShapesFlyoutPanel"
             x:DataType="viewModels:ToolbarViewModel">
  <Border Background="{AppThemeBinding Light={StaticResource PopupBackgroundLight}, Dark={StaticResource PopupBackgroundDark}}"
          Padding="12"
          StrokeShape="RoundRectangle"
          Stroke="{AppThemeBinding Light={StaticResource PopupBorderLight}, Dark={StaticResource PopupBorderDark}}"
          StrokeThickness="1">
    <StackLayout Spacing="10">
      <Label Text="Choose a Shape"
             FontAttributes="Bold"
             FontSize="16"
             HorizontalTextAlignment="Center"/>

      <BoxView HeightRequest="1"
               Color="{AppThemeBinding Light={StaticResource PopupBorderLight}, Dark={StaticResource PopupBorderDark}}"
               Margin="0,5"/>
      <StackLayout Orientation="Horizontal"
                   HorizontalOptions="Center"
                   Spacing="8">
        <!-- Rectangle -->
        <StackLayout>
          <Border WidthRequest="80"
                  HeightRequest="80"
                  StrokeShape="RoundRectangle 12"
                  Stroke="{StaticResource Gray500Brush}"
                  StrokeThickness="1"
                  Padding="8">
            <Border.GestureRecognizers>
              <TapGestureRecognizer Command="{Binding SelectRectangleCommand}"/>
            </Border.GestureRecognizers>
            <components:ShapePreviewControl ShapeName="Rectangle"
                                            StrokeColor="{Binding StrokeColor}"
                                            FillColor="{Binding FillColor}"
                                            StrokeWidth="{Binding StrokeWidth}"
                                            HorizontalOptions="Fill"
                                            VerticalOptions="Fill"/>
          </Border>
          <Label Text="Rectangle"
                 FontSize="12"
                 HorizontalTextAlignment="Center"/>
        </StackLayout>

        <!-- Circle -->
        <StackLayout>
          <Border WidthRequest="80"
                  HeightRequest="80"
                  StrokeShape="RoundRectangle 12"
                  Stroke="{StaticResource Gray500Brush}"
                  StrokeThickness="1"
                  Padding="8">
            <Border.GestureRecognizers>
              <TapGestureRecognizer Command="{Binding SelectCircleCommand}"/>
            </Border.GestureRecognizers>
            <components:ShapePreviewControl ShapeName="Circle"
                                            StrokeColor="{Binding StrokeColor}"
                                            FillColor="{Binding FillColor}"
                                            StrokeWidth="{Binding StrokeWidth}"
                                            HorizontalOptions="Fill"
                                            VerticalOptions="Fill"/>
          </Border>
          <Label Text="Circle"
                 FontSize="12"
                 HorizontalTextAlignment="Center"/>
        </StackLayout>

        <!-- Line -->
        <StackLayout>
          <Border WidthRequest="80"
                  HeightRequest="80"
                  StrokeShape="RoundRectangle 12"
                  Stroke="{StaticResource Gray500Brush}"
                  StrokeThickness="1"
                  Padding="8">
            <Border.GestureRecognizers>
              <TapGestureRecognizer Command="{Binding SelectLineCommand}"/>
            </Border.GestureRecognizers>
            <components:ShapePreviewControl ShapeName="Line"
                                            StrokeColor="{Binding StrokeColor}"
                                            FillColor="{Binding FillColor}"
                                            StrokeWidth="{Binding StrokeWidth}"
                                            HorizontalOptions="Fill"
                                            VerticalOptions="Fill"/>
          </Border>
          <Label Text="Line"
                 FontSize="12"
                 HorizontalTextAlignment="Center"/>
        </StackLayout>
      </StackLayout>

    </StackLayout>
  </Border>
</ContentView>
